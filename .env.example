# ============================================
# STRIPE PAYMENT INTEGRATION
# ============================================

# Stripe Secret Key (Server-side only)
# Get your test keys from: https://dashboard.stripe.com/test/apikeys
# IMPORTANT: Never expose this key to the client or commit it to version control
# Test key format example: your_stripe_test_secret_key_here
# Live key format example: your_stripe_live_secret_key_here
STRIPE_SECRET_KEY=your_stripe_secret_key_here

# Stripe Publishable Key (Client-side safe)
# This key is safe to expose in your frontend code
# Test key format example: your_stripe_test_publishable_key_here
# Live key format example: your_stripe_live_publishable_key_here
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=your_stripe_publishable_key_here

# Stripe Webhook Secret (for webhook signature verification)
# Get this from: https://dashboard.stripe.com/test/webhooks
# Create a webhook endpoint pointing to: https://yourdomain.com/api/stripe/webhooks
# Format example: your_stripe_webhook_secret_here
STRIPE_WEBHOOK_SECRET=your_stripe_webhook_secret_here

# ============================================
# SUPABASE DATABASE
# ============================================

# Supabase Project URL
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co

# Supabase Publishable Key (Client-side safe)
# Safe to use in client-side code, enforces Row Level Security
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=your_supabase_publishable_key_here

# Supabase Secret Key (Server-side only)
# CRITICAL: This key bypasses Row Level Security - keep it secret!
# Only use in server-side code (API routes, server components)
SUPABASE_SECRET_KEY=your_supabase_secret_key_here

# Supabase Access Token (for CLI and migrations)
SUPABASE_ACCESS_TOKEN=your_supabase_access_token_here

# Supabase Database URL (Direct connection)
SUPABASE_DB_URL=postgresql://postgres:your_password@your-project.pooler.supabase.com:5432/postgres

# ============================================
# AI SERVICES
# ============================================

# Google Gemini API Key
# Get from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# OpenAI API Key
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# Anthropic Claude API Key
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# ============================================
# EMAIL SERVICE (Resend)
# ============================================

# Resend API Key
# Get from: https://resend.com/api-keys
RESEND_API_KEY=your_resend_api_key_here

# SMTP Configuration (Alternative to Resend API)
SMTP_HOST=smtp.resend.com
SMTP_PORT=465
SMTP_USER=resend
SMTP_PASSWORD=your_resend_api_key_here

# ============================================
# REDIS CACHE (Upstash)
# ============================================

# Upstash Redis URL
UPSTASH_REDIS_URL=https://your-redis.upstash.io

# Upstash Redis Token
UPSTASH_REDIS_TOKEN=your_upstash_token_here

# ============================================
# APPLICATION SETTINGS
# ============================================

# Site URL (used for email links and OAuth redirects)
# Local development: http://localhost:3000
# Production: https://yourdomain.com
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# ============================================
# CUSTOMER SUPPORT (Chatwoot + Internal API)
# ============================================

# Internal token used by automation (e.g., n8n) to call server-side support endpoints.
# Send as HTTP header: x-internal-token
SUPPORT_INTERNAL_TOKEN=your_random_long_internal_token_here

# Chatwoot (self-hosted) configuration
CHATWOOT_BASE_URL=https://support.yourdomain.com
CHATWOOT_ACCOUNT_ID=1
CHATWOOT_API_ACCESS_TOKEN=your_chatwoot_api_access_token_here
CHATWOOT_INBOX_ID=1

# ============================================
# NOTES FOR PRODUCTION DEPLOYMENT
# ============================================
#
# Before deploying to production:
#
# 1. STRIPE KEYS
#    - Replace test keys with live keys
#    - Replace test publishable keys with live publishable keys
#    - Update webhook secret with production endpoint
#    - Test webhooks with Stripe CLI: stripe listen --forward-to localhost:3000/api/stripe/webhooks
#
# 2. SECURITY CHECKLIST
#    ✓ Never commit .env.local to version control
#    ✓ Use different keys for development/staging/production
#    ✓ Rotate keys regularly
#    ✓ Enable Stripe webhook signature verification
#    ✓ Set up proper CORS policies
#    ✓ Enable Supabase RLS policies
#
# 3. MONITORING
#    ✓ Set up Stripe webhook monitoring
#    ✓ Configure error alerts for failed payments
#    ✓ Monitor API rate limits
#
# 4. COMPLIANCE
#    ✓ Review PCI compliance requirements
#    ✓ Implement proper data retention policies
#    ✓ Add privacy policy and terms of service
#
